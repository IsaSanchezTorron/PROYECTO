{"remainingRequest":"/home/hab07/Desktop/ProyectoBackFront/Frontend/node_modules/babel-loader/lib/index.js!/home/hab07/Desktop/ProyectoBackFront/Backend/DB.js","dependencies":[{"path":"/home/hab07/Desktop/ProyectoBackFront/Backend/DB.js","mtime":1592301376971},{"path":"/home/hab07/Desktop/ProyectoBackFront/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hab07/Desktop/ProyectoBackFront/Frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIik7Cgp2YXIgX2FzeW5jVG9HZW5lcmF0b3IgPSByZXF1aXJlKCIvaG9tZS9oYWIwNy9EZXNrdG9wL1Byb3llY3RvQmFja0Zyb250L0Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IiKTsKCnJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpOwoKdmFyIG15c3FsID0gcmVxdWlyZSgnbXlzcWwyL3Byb21pc2UnKTsKCnZhciBfcHJvY2VzcyRlbnYgPSBwcm9jZXNzLmVudiwKICAgIE1ZU1FMX0hPU1QgPSBfcHJvY2VzcyRlbnYuTVlTUUxfSE9TVCwKICAgIE1ZU1FMX1VTRVIgPSBfcHJvY2VzcyRlbnYuTVlTUUxfVVNFUiwKICAgIE1ZU1FMX1BBU1NXT1JEID0gX3Byb2Nlc3MkZW52Lk1ZU1FMX1BBU1NXT1JELAogICAgTVlTUUxfREFUQUJBU0UgPSBfcHJvY2VzcyRlbnYuTVlTUUxfREFUQUJBU0U7CnZhciBwb29sOwoKZnVuY3Rpb24gZ2V0Q29ubmVjdGlvbigpIHsKICByZXR1cm4gX2dldENvbm5lY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2dldENvbm5lY3Rpb24oKSB7CiAgX2dldENvbm5lY3Rpb24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmICghcG9vbCkgewogICAgICAgICAgICAgIHBvb2wgPSBteXNxbC5jcmVhdGVQb29sKHsKICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25MaW1pdDogMTAsCiAgICAgICAgICAgICAgICBob3N0OiBNWVNRTF9IT1NULAogICAgICAgICAgICAgICAgdXNlcjogTVlTUUxfVVNFUiwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBNWVNRTF9QQVNTV09SRCwKICAgICAgICAgICAgICAgIGRhdGFiYXNlOiBNWVNRTF9EQVRBQkFTRSwKICAgICAgICAgICAgICAgIHRpbWV6b25lOiAnWicKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBwb29sLmdldENvbm5lY3Rpb24oKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0LnNlbnQpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIF9nZXRDb25uZWN0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCm1vZHVsZS5leHBvcnRzID0gewogIGdldENvbm5lY3Rpb246IGdldENvbm5lY3Rpb24KfTs="},{"version":3,"sources":["/home/hab07/Desktop/ProyectoBackFront/Backend/DB.js"],"names":["require","config","mysql","process","env","MYSQL_HOST","MYSQL_USER","MYSQL_PASSWORD","MYSQL_DATABASE","pool","getConnection","createPool","connectionLimit","host","user","password","database","timezone","module","exports"],"mappings":";;;;AAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,IAAMC,KAAK,GAAGF,OAAO,CAAC,gBAAD,CAArB;;mBAEmEG,OAAO,CAACC,G;IAAnEC,U,gBAAAA,U;IAAYC,U,gBAAAA,U;IAAYC,c,gBAAAA,c;IAAgBC,c,gBAAAA,c;AAEhD,IAAIC,IAAJ;;SAEeC,a;;;;;2EAAf;AAAA;AAAA;AAAA;AAAA;AACE,gBAAI,CAACD,IAAL,EAAW;AACTA,cAAAA,IAAI,GAAGP,KAAK,CAACS,UAAN,CAAiB;AACtBC,gBAAAA,eAAe,EAAE,EADK;AAEtBC,gBAAAA,IAAI,EAAER,UAFgB;AAGtBS,gBAAAA,IAAI,EAAER,UAHgB;AAItBS,gBAAAA,QAAQ,EAAER,cAJY;AAKtBS,gBAAAA,QAAQ,EAAER,cALY;AAMtBS,gBAAAA,QAAQ,EAAE;AANY,eAAjB,CAAP;AAQD;;AAVH;AAAA,mBAYeR,IAAI,CAACC,aAAL,EAZf;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAeAQ,MAAM,CAACC,OAAP,GAAiB;AACfT,EAAAA,aAAa,EAAbA;AADe,CAAjB","sourcesContent":["require('dotenv').config();\n\nconst mysql = require('mysql2/promise');\n\nconst { MYSQL_HOST, MYSQL_USER, MYSQL_PASSWORD, MYSQL_DATABASE } = process.env;\n\nlet pool;\n\nasync function getConnection() {\n  if (!pool) {\n    pool = mysql.createPool({\n      connectionLimit: 10,\n      host: MYSQL_HOST,\n      user: MYSQL_USER,\n      password: MYSQL_PASSWORD,\n      database: MYSQL_DATABASE,\n      timezone: 'Z'\n    });\n  }\n\n  return await pool.getConnection();\n}\n\nmodule.exports = {\n  getConnection\n};\n"]}]}