CREATE TABLE IF NOT EXISTS CONCURSOS (
  id_concurso INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
  nombre VARCHAR(100) NOT NULL,
  fecha_inicio DATE NOT NULL,
  fecha_final DATE NOT NULL,
  url_foto VARCHAR(100) NULL,
  descripcion` TEXT NOT NULL,
  modalidad` VARCHAR(100) NOT NULL,
  genero` VARCHAR(100) NOT NULL,
 )


CREATE TABLE IF NOT EXISTS USUARIOS (
  id_usuario INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
  nombre VARCHAR(100) NULL,
  apellidos VARCHAR(45) NULL,
  mail VARCHAR(100) NOT NULL,
  contrasenha VARCHAR(100) NOT NULL,
  url_foto VARCHAR(100) NULL,
  descripcion TEXT NULL,
  rol VARCHAR(45) NOT NULL,
  

CREATE TABLE IF NOT EXISTS INSCRIPCIONES (
  CONCURSOS_id_concurso INT NOT NULL,
  USUARIOS_id_usuario INT NOT NULL,
  PRIMARY KEY (CONCURSOS_id_concurso`, USUARIOS_id_usuario),
  CONSTRAINT fk_CONCURSOS_has_USUARIO_CONCURSO1
    FOREIGN KEY CONCURSOS_id_concurso
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_CONCURSOS_has_USUARIO_USUARIO1
    FOREIGN KEY USUARIOS_id_usuario
  
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)


CREATE TABLE IF NOT EXISTS VALORACIONES (
  CONCURSOS_id_concurso` INT NOT NULL,
  USUARIOS_id_usuario` INT NOT NULL,
  puntuacion INT NULL,
  fecha_valoracion DATE NULL,
  PRIMARY KEY (CONCURSOS_id_concurso`, USUARIOS_id_usuario),
 
  CONSTRAINT fk_CONCURSOS_has_USUARIO_CONCURSO2
    FOREIGN KEY (CONCURSOS_id_concurso)
   
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,

  CONSTRAINT fk_CONCURSOS_has_USUARIO_USUARIO2
    FOREIGN KEY USUARIOS_id_usuario
   
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
